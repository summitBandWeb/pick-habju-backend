============================= test session starts =============================
platform win32 -- Python 3.12.3, pytest-8.4.2, pluggy-1.6.0 -- C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Scripts\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\하정훈\Desktop\픽합주\pick-habju-backend
configfile: pytest.ini
plugins: anyio-4.12.1, asyncio-0.26.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 105 items

tests/api/test_available_room.py::test_ping PASSED                       [  0%]
tests/api/test_available_room.py::test_get_availability_api PASSED       [  1%]
tests/api/test_available_room.py::test_preflight_request PASSED          [  2%]
tests/api/test_available_room.py::test_get_availability_api_with_crawler_error PASSED [  3%]
tests/api/test_available_room.py::test_get_availability_with_real_db SKIPPED [  4%]
tests/api/test_available_room_map.py::test_map_search_validation_error PASSED [  5%]
tests/api/test_available_room_map.py::test_map_search_coordinate_range_error PASSED [  6%]
tests/api/test_available_room_map.py::test_map_search_success PASSED     [  7%]
tests/api/test_favorites.py::test_add_favorite_success PASSED            [  8%]
tests/api/test_favorites.py::test_add_favorite_idempotency PASSED        [  9%]
tests/api/test_favorites.py::test_delete_favorite_success PASSED         [ 10%]
tests/api/test_favorites.py::test_delete_actually_removes_data PASSED    [ 11%]
tests/api/test_favorites.py::test_delete_favorite_idempotency PASSED     [ 12%]
tests/api/test_favorites.py::test_favorite_error_cases[invalid_headers0-X-Device-Id header is required and cannot be empty] PASSED [ 13%]
tests/api/test_favorites.py::test_favorite_error_cases[invalid_headers1-X-Device-Id header is required and cannot be empty] PASSED [ 14%]
tests/api/test_favorites.py::test_favorite_error_cases[invalid_headers2-X-Device-Id header is required and cannot be empty] PASSED [ 15%]
tests/api/test_favorites.py::test_favorite_error_cases[invalid_headers3-Invalid X-Device-Id format] PASSED [ 16%]
tests/api/test_favorites.py::test_get_favorites_empty PASSED             [ 17%]
tests/api/test_favorites.py::test_get_favorites_success PASSED           [ 18%]
tests/api/test_favorites.py::test_get_favorites_isolation PASSED         [ 19%]
tests/api/test_favorites.py::test_get_favorites_error_cases PASSED       [ 20%]
tests/api/test_rate_limit.py::test_rate_limit_exceeded SKIPPED (Rate
limiting behavior differs in TestClient - manual verification required)  [ 20%]
tests/crawler/test_naver_map_crawler.py::TestMergeResults::test_basic_merge PASSED [ 21%]
tests/crawler/test_naver_map_crawler.py::TestMergeResults::test_deduplication PASSED [ 22%]
tests/crawler/test_naver_map_crawler.py::TestMergeResults::test_empty_source PASSED [ 23%]
tests/crawler/test_naver_map_crawler.py::TestMergeResults::test_skip_non_dict_items PASSED [ 24%]
tests/crawler/test_naver_map_crawler.py::TestMergeResults::test_multiple_merges PASSED [ 25%]
tests/crawler/test_naver_map_crawler.py::TestRegionList::test_region_count PASSED [ 26%]
tests/exception/test_date_validator.py::test_validate_date_valid PASSED  [ 27%]
tests/exception/test_date_validator.py::test_validate_date_invalid_format PASSED [ 28%]
tests/exception/test_date_validator.py::test_validate_date_past PASSED   [ 29%]
tests/exception/test_hour_validator.py::test_validate_hour_slots_invalid_format PASSED [ 30%]
tests/exception/test_hour_validator.py::test_validate_hour_slots_valid_today PASSED [ 31%]
tests/exception/test_hour_validator.py::test_validate_hour_slots_future_date PASSED [ 32%]
tests/exception/test_hour_validator.py::test_validate_hour_slots_past_time_today PASSED [ 33%]
tests/exception/test_hour_validator.py::test_validate_hour_continuous_valid PASSED [ 34%]
tests/exception/test_hour_validator.py::test_validate_hour_continuous_invalid_gap PASSED [ 35%]
tests/exception/test_hour_validator.py::test_validate_hour_continuous_unsorted_slots PASSED [ 36%]
tests/exception/test_hour_validator.py::test_validate_hour_continuous_single_slot PASSED [ 37%]
tests/exception/test_hour_validator.py::test_validate_hour_slots_equal_time_should_fail PASSED [ 38%]
tests/exception/test_room_detail_validator.py::test_validate_list_empty PASSED [ 39%]
tests/exception/test_room_detail_validator.py::test_validate_list_not_empty_success PASSED [ 40%]
tests/exception/test_room_detail_validator.py::test_validate_room_detail_field_missing[invalid_room0] PASSED [ 40%]
tests/exception/test_room_detail_validator.py::test_validate_room_detail_field_missing[invalid_room1] PASSED [ 41%]
tests/exception/test_room_detail_validator.py::test_validate_room_detail_field_missing[invalid_room2] PASSED [ 42%]
tests/exception/test_room_detail_validator.py::test_validate_room_detail_field_missing[invalid_room3] PASSED [ 43%]
tests/exception/test_room_detail_validator.py::test_validate_room_detail_fields_success PASSED [ 44%]
tests/integration/test_room_collection_flow.py::TestCollectByIdFlow::test_collect_by_id_success PASSED [ 45%]
tests/integration/test_room_collection_flow.py::TestCollectByIdFlow::test_room_data_structure PASSED [ 46%]
tests/integration/test_room_collection_flow.py::TestCollectByIdFlow::test_collect_by_id_fetch_failure PASSED [ 47%]
tests/integration/test_room_collection_flow.py::TestCollectByIdFlow::test_collect_by_id_no_rooms PASSED [ 48%]
tests/integration/test_room_collection_flow.py::TestCollectByQueryFlow::test_collect_by_query_calls_collect_by_id PASSED [ 49%]
tests/integration/test_room_collection_flow.py::TestCollectByQueryFlow::test_collect_by_query_partial_failure PASSED [ 50%]
tests/integration/test_supabase_repository.py::test_supabase_crud PASSED [ 51%]
tests/services/test_room_collection_service.py::TestExtractPrice::test_extract_price_normal PASSED [ 52%]
tests/services/test_room_collection_service.py::TestExtractPrice::test_extract_price_none PASSED [ 53%]
tests/services/test_room_collection_service.py::TestExtractPrice::test_extract_price_missing_key PASSED [ 54%]
tests/services/test_room_collection_service.py::TestExtractPrice::test_extract_price_only_min PASSED [ 55%]
tests/services/test_room_collection_service.py::TestDataPreservationLogic::test_preserve_existing_valid_value PASSED [ 56%]
tests/services/test_room_collection_service.py::TestDataPreservationLogic::test_update_with_new_valid_value PASSED [ 57%]
tests/services/test_room_collection_service.py::TestDataPreservationLogic::test_update_when_existing_is_default PASSED [ 58%]
tests/services/test_room_collection_service.py::TestDataPreservationLogic::test_use_new_value_when_no_existing PASSED [ 59%]
tests/services/test_room_collection_service.py::TestDataPreservationLogic::test_preserve_existing_price PASSED [ 60%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_basic_parsing_weekday PASSED [ 60%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_range_capacity_weekend PASSED [ 61%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_extra_charge_parsing PASSED [ 62%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_same_day_call_required PASSED [ 63%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_empty_description PASSED [ 64%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_none_description PASSED [ 65%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_until_pattern_capacity PASSED [ 66%]
tests/services/test_room_parser_service.py::TestParseWithRegex::test_weekend_holiday_tag PASSED [ 67%]
tests/services/test_room_parser_service.py::TestExtractJsonFromResponse::test_remove_json_code_block PASSED [ 68%]
tests/services/test_room_parser_service.py::TestExtractJsonFromResponse::test_remove_plain_code_block PASSED [ 69%]
tests/services/test_room_parser_service.py::TestExtractJsonFromResponse::test_plain_json_unchanged PASSED [ 70%]
tests/services/test_room_parser_service.py::TestExtractJsonFromResponse::test_trim_whitespace PASSED [ 71%]
tests/test_client_loader.py::test_retry_success_after_failure PASSED     [ 72%]
tests/test_client_loader.py::test_no_retry_on_404 PASSED                 [ 73%]
tests/test_dream_checker.py::test_get_dream_availability PASSED          [ 74%]
tests/test_dream_checker_parsing.py::test_parse_available_slot PASSED    [ 75%]
tests/test_dream_checker_parsing.py::test_parse_unavailable_slot PASSED  [ 76%]
tests/test_dream_checker_parsing.py::test_parse_missing_label PASSED     [ 77%]
tests/test_dream_checker_parsing.py::test_parse_broken_html PASSED       [ 78%]
tests/test_envelope_pattern.py::test_success_response_basic PASSED       [ 79%]
tests/test_envelope_pattern.py::test_success_response_custom_message PASSED [ 80%]
tests/test_envelope_pattern.py::test_success_response_custom_code PASSED [ 80%]
tests/test_envelope_pattern.py::test_success_response_none_result PASSED [ 81%]
tests/test_envelope_pattern.py::test_error_response_basic PASSED         [ 82%]
tests/test_envelope_pattern.py::test_error_response_with_result PASSED   [ 83%]
tests/test_envelope_pattern.py::test_error_code_constants PASSED         [ 84%]
tests/test_envelope_pattern.py::test_error_code_http_error PASSED        [ 85%]
tests/test_envelope_pattern.py::test_api_response_model_direct PASSED    [ 86%]
tests/test_envelope_pattern.py::test_api_response_json_serialization PASSED [ 87%]
tests/test_envelope_pattern.py::test_api_response_field_order PASSED     [ 88%]
tests/test_envelope_pattern.py::test_success_response_empty_dict PASSED  [ 89%]
tests/test_envelope_pattern.py::test_error_response_long_message PASSED  [ 90%]
tests/test_envelope_pattern.py::test_error_response_special_characters PASSED [ 91%]
tests/test_exception_handlers.py::test_custom_exception_handler_structure PASSED [ 92%]
tests/test_exception_handlers.py::test_global_exception_handler_structure_prod PASSED [ 93%]
tests/test_exception_handlers.py::test_global_exception_handler_structure_dev PASSED [ 94%]
tests/test_groove_checker.py::test_groove_login_error_simulation PASSED  [ 95%]
tests/test_groove_checker.py::test_groove_credential_error_simulation PASSED [ 96%]
tests/test_groove_checker.py::test_availability_within_84_days_boundary PASSED [ 97%]
tests/test_groove_checker.py::test_availability_at_and_after_84_days_boundary PASSED [ 98%]
tests/test_naver_checker.py::test_get_naver_availability PASSED          [ 99%]
tests/utils/test_room_router.py::test_filter_rooms_by_type_print PASSED  [100%]

============================== warnings summary ===============================
venv\Lib\site-packages\pyiceberg\expressions\parser.py:72
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\expressions\parser.py:72: PyparsingDeprecationWarning: 'enablePackrat' deprecated - use 'enable_packrat'
    ParserElement.enablePackrat()

venv\Lib\site-packages\pyiceberg\expressions\parser.py:85
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\expressions\parser.py:85: PyparsingDeprecationWarning: 'escChar' argument is deprecated, use 'esc_char'
    quoted_identifier = QuotedString('"', escChar="\\", unquoteResults=True)

venv\Lib\site-packages\pyiceberg\expressions\parser.py:85
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\expressions\parser.py:85: PyparsingDeprecationWarning: 'unquoteResults' argument is deprecated, use 'unquote_results'
    quoted_identifier = QuotedString('"', escChar="\\", unquoteResults=True)

venv\Lib\site-packages\pyiceberg\table\metadata.py:365
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:365: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:494
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:494: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:498
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:498: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:502
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:502: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:506
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:506: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:538
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:538: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:542
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:542: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:546
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:546: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

venv\Lib\site-packages\pyiceberg\table\metadata.py:550
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\pyiceberg\table\metadata.py:550: PydanticDeprecatedSince212: Using `@model_validator` with mode='after' on a classmethod is deprecated. Instead, use an instance method. See the documentation at https://docs.pydantic.dev/2.12/concepts/validators/#model-after-validator. Deprecated in Pydantic V2.12 to be removed in V3.0.
    @model_validator(mode="after")

app\services\room_parser_service.py:6
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\app\services\room_parser_service.py:6: FutureWarning: 
  
  All support for the `google.generativeai` package has ended. It will no longer be receiving 
  updates or bug fixes. Please switch to the `google.genai` package as soon as possible.
  See README for more details:
  
  https://github.com/google-gemini/deprecated-generative-ai-python/blob/main/README.md
  
    import google.generativeai as genai

tests\test_exception_handlers.py:9
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\tests\test_exception_handlers.py:9: PytestCollectionWarning: cannot collect test class 'TestCustomException' because it has a __init__ constructor (from: tests/test_exception_handlers.py)
    class TestCustomException(BaseCustomException):

tests/integration/test_supabase_repository.py::test_supabase_crud
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\supabase\_sync\client.py:309: DeprecationWarning: The 'timeout' parameter is deprecated. Please configure it in the http client instead.
    return SyncPostgrestClient(

tests/integration/test_supabase_repository.py::test_supabase_crud
  C:\Users\하정훈\Desktop\픽합주\pick-habju-backend\venv\Lib\site-packages\supabase\_sync\client.py:309: DeprecationWarning: The 'verify' parameter is deprecated. Please configure it in the http client instead.
    return SyncPostgrestClient(

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
================ 103 passed, 2 skipped, 16 warnings in 19.01s =================
